import { PublishSubject } from '../../../lib/subjects.esm.js';
import ObservableImpl from 'zen-observable';

class AlertApiForwarder {
  subject = new PublishSubject();
  recentAlerts = [];
  maxBufferSize = 10;
  post(alert) {
    this.recentAlerts.push(alert);
    if (this.recentAlerts.length > this.maxBufferSize) {
      this.recentAlerts.shift();
    }
    this.subject.next(alert);
  }
  alert$() {
    return new ObservableImpl((subscriber) => {
      for (const alert of this.recentAlerts) {
        subscriber.next(alert);
      }
      return this.subject.subscribe(subscriber);
    });
  }
}

export { AlertApiForwarder };
//# sourceMappingURL=AlertApiForwarder.esm.js.map

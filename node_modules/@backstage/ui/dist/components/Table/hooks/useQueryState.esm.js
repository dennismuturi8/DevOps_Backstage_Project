import { useMemo, useState, useCallback } from 'react';

function useControlledStateHelper(initialValue, controlledValue, onChange) {
  const [internalValue, setInternalValue] = useState(initialValue);
  const value = controlledValue !== void 0 ? controlledValue : internalValue;
  const setValue = useCallback(
    (newValue) => {
      if (controlledValue === void 0) {
        setInternalValue(newValue);
      }
      if (onChange) {
        onChange(newValue);
      }
    },
    [controlledValue, onChange]
  );
  return [value, setValue];
}
function useQueryState(options) {
  const [sort, setSort] = useControlledStateHelper(
    options.initialSort ?? null,
    options.sort,
    options.onSortChange
  );
  const [filter, setFilter] = useControlledStateHelper(
    options.initialFilter,
    options.filter,
    options.onFilterChange
  );
  const [search, setSearch] = useControlledStateHelper(
    options.initialSearch ?? "",
    options.search,
    options.onSearchChange
  );
  return useMemo(
    () => ({ sort, setSort, filter, setFilter, search, setSearch }),
    [sort, setSort, filter, setFilter, search, setSearch]
  );
}

export { useQueryState };
//# sourceMappingURL=useQueryState.esm.js.map

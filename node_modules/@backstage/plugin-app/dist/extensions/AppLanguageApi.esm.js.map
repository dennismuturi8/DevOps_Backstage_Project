{"version":3,"file":"AppLanguageApi.esm.js","sources":["../../src/extensions/AppLanguageApi.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line @backstage/no-relative-monorepo-imports\nimport { AppLanguageSelector } from '../../../../packages/core-app-api/src/apis/implementations/AppLanguageApi';\nimport { appLanguageApiRef } from '@backstage/core-plugin-api/alpha';\nimport { ApiBlueprint } from '@backstage/frontend-plugin-api';\n\nexport const AppLanguageApi = ApiBlueprint.makeWithOverrides({\n  name: 'app-language',\n  config: {\n    schema: {\n      defaultLanguage: z => z.string().optional(),\n      availableLanguages: z => z.array(z.string()).optional(),\n    },\n  },\n  factory(originalFactory, { config }) {\n    return originalFactory(defineParams =>\n      defineParams({\n        api: appLanguageApiRef,\n        deps: {},\n        factory: () =>\n          AppLanguageSelector.createWithStorage({\n            defaultLanguage: config.defaultLanguage,\n            availableLanguages: config.availableLanguages,\n          }),\n      }),\n    );\n  },\n});\n"],"names":[],"mappings":";;;;AAqBO,MAAM,cAAA,GAAiB,aAAa,iBAAA,CAAkB;AAAA,EAC3D,IAAA,EAAM,cAAA;AAAA,EACN,MAAA,EAAQ;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,eAAA,EAAiB,CAAA,CAAA,KAAK,CAAA,CAAE,MAAA,GAAS,QAAA,EAAS;AAAA,MAC1C,kBAAA,EAAoB,OAAK,CAAA,CAAE,KAAA,CAAM,EAAE,MAAA,EAAQ,EAAE,QAAA;AAAS;AACxD,GACF;AAAA,EACA,OAAA,CAAQ,eAAA,EAAiB,EAAE,MAAA,EAAO,EAAG;AACnC,IAAA,OAAO,eAAA;AAAA,MAAgB,kBACrB,YAAA,CAAa;AAAA,QACX,GAAA,EAAK,iBAAA;AAAA,QACL,MAAM,EAAC;AAAA,QACP,OAAA,EAAS,MACP,mBAAA,CAAoB,iBAAA,CAAkB;AAAA,UACpC,iBAAiB,MAAA,CAAO,eAAA;AAAA,UACxB,oBAAoB,MAAA,CAAO;AAAA,SAC5B;AAAA,OACJ;AAAA,KACH;AAAA,EACF;AACF,CAAC;;;;"}
import { Component } from 'react';
import { ForwardedError } from '@backstage/errors';

class ErrorApiBoundary extends Component {
  static getDerivedStateFromError(error) {
    return { error };
  }
  state = { error: void 0 };
  componentDidCatch(error, _errorInfo) {
    const { node, errorApi } = this.props;
    errorApi?.post(
      new ForwardedError(`Error in extension '${node.spec.id}'`, error)
    );
  }
  render() {
    if (this.state.error) {
      return null;
    }
    return this.props.children;
  }
}

export { ErrorApiBoundary };
//# sourceMappingURL=ErrorApiBoundary.esm.js.map

function createEntityPredicateSchema(z) {
  const primitiveSchema = z.union([
    z.string(),
    z.number(),
    z.boolean()
  ]);
  let valuePredicateSchema;
  const expressionSchema = z.lazy(
    () => z.union([
      z.record(z.string().regex(/^(?!\$).*$/), valuePredicateSchema),
      z.record(z.string().regex(/^\$/), z.never())
    ])
  );
  const predicateSchema = z.lazy(
    () => z.union([
      expressionSchema,
      primitiveSchema,
      z.object({ $all: z.array(predicateSchema) }),
      z.object({ $any: z.array(predicateSchema) }),
      z.object({ $not: predicateSchema })
    ])
  );
  valuePredicateSchema = z.union([
    primitiveSchema,
    z.object({ $exists: z.boolean() }),
    z.object({ $in: z.array(primitiveSchema) }),
    z.object({ $contains: predicateSchema })
  ]);
  return predicateSchema;
}

export { createEntityPredicateSchema };
//# sourceMappingURL=createEntityPredicateSchema.esm.js.map

"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["1702"],{54748(e,t,i){i.d(t,{M:()=>s});var n=i(31085),a=i(58837),l=i(71677),o=i(72501);let r=(0,a.A)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:e})=>e||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function s(e){let t=r(e);return(0,n.jsx)(l.Ay,{title:e.title??(e.text||""),placement:e.placement,classes:e.tooltipClasses,children:(0,n.jsx)(o.A,{className:t.typo,variant:"inherit",children:e.text})})}},88293(e,t,i){i.d(t,{ConsumedApisCard:()=>O,HasApisCard:()=>M,ProvidedApisCard:()=>X});var n=i(31085),a=i(97214),l=i(72501),o=i(16400),r=i(39557),s=i(48028),d=i(17400),c=i(15485),p=i(14041),u=i(96943),m=i(90338),y=i(96170);let g=e=>{let{apiEntity:t}=e,i=(0,y.gf)(m.P).getApiDefinitionWidget(t),a=i?i.title:t.spec.type;return(0,n.jsx)(l.A,{component:"span",variant:"inherit",children:a})};var f=i(77125),C=i(64947),x=i(76891),h=i(93453),A=i(46805),v=i(61477),b=i(38605),j=i(74953),w=i(58837),k=i(77536),I=i(47250);let P=(0,w.A)(e=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",height:"100%"},tabs:{borderRight:`1px solid ${e.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"},title:{color:e.palette.text.primary,wordBreak:"break-word",fontSize:e.typography.h3.fontSize,marginBottom:0},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:e.spacing(1),color:e.palette.text.primary}}));function D(e){let{children:t,value:i,index:a,...l}=e,o=P();return(0,n.jsx)("div",{role:"tabpanel",hidden:i!==a,id:`vertical-tabpanel-${a}`,"aria-labelledby":`vertical-tab-${a}`,className:o.tabContents,...l,children:i===a&&(0,n.jsx)(f.A,{pl:3,pr:3,children:t})})}function S(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}function T(e){let{open:t,entity:i,onClose:a}=e,[o,r]=(0,p.useState)(0),s=P(),{t:d}=(0,I.i)(u.w);(0,p.useEffect)(()=>{r(0)},[t]);let c=(0,y.gf)(m.P).getApiDefinitionWidget(i),g=0,f=0;return(0,n.jsxs)(x.A,{fullWidth:!0,maxWidth:"xl",open:t,onClose:a,"aria-labelledby":"api-definition-dialog-title",PaperProps:{className:s.fullHeightDialog},children:[(0,n.jsxs)(v.A,{id:"api-definition-dialog-title",disableTypography:!0,children:[(0,n.jsxs)(l.A,{className:s.type,children:["API -"," ",c?.title??d("apiDefinitionDialog.rawButtonTitle")]}),(0,n.jsx)(l.A,{className:s.title,variant:"h1",children:i.metadata.title??i.metadata.name})]}),(0,n.jsxs)(A.A,{dividers:!0,className:s.root,children:[(0,n.jsxs)(j.A,{orientation:"vertical",variant:"scrollable",value:o,onChange:(e,t)=>r(t),"aria-label":d("apiDefinitionDialog.tabsAriaLabel"),className:s.tabs,children:[c?(0,n.jsx)(b.A,{label:c.title,...S(g++)}):null,(0,n.jsx)(b.A,{label:d("apiDefinitionDialog.rawButtonTitle"),...S(g++)})]}),c?(0,n.jsx)(D,{value:o,index:f++,children:c.component(i.spec.definition)}):null,(0,n.jsx)(D,{value:o,index:f++,children:(0,n.jsx)(k.e,{definition:i.spec.definition,language:c?.rawLanguage??i.spec.type})})]}),(0,n.jsx)(h.A,{children:(0,n.jsx)(C.A,{onClick:a,color:"primary",children:d("apiDefinitionDialog.closeButtonTitle")})})]})}function L(e){return{title:e("apiEntityColumns.typeTitle"),field:"spec.type",render:e=>(0,n.jsx)(g,{apiEntity:e})}}let E=({apiEntity:e})=>{let[t,i]=(0,p.useState)(!1),{t:a}=(0,I.i)(u.w);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{"aria-label":a("apiDefinitionDialog.toggleButtonAriaLabel"),onClick:()=>i(!t),value:t,children:(0,n.jsx)(d.default,{})}),(0,n.jsx)(T,{entity:e,open:t,onClose:()=>i(!1)})]})},R=e=>[s.s.columns.createEntityRefColumn({defaultKind:"API"}),s.s.columns.createSystemColumn(),s.s.columns.createOwnerColumn(),L(e),s.s.columns.createSpecLifecycleColumn(),s.s.columns.createMetadataDescriptionColumn(),{title:e("apiEntityColumns.apiDefinitionTitle"),render:e=>(0,n.jsx)(E,{apiEntity:e})}];var N=i(21332),B=i(96872),z=i(99338),K=i(62112),$=i(75202);let O=e=>{let{t}=(0,I.i)(u.w),{variant:i="gridItem",title:d=t("consumedApisCard.title"),columns:c=R(t),tableOptions:p={}}=e,{entity:m}=(0,o.tN)(),{entities:y,loading:g,error:f}=(0,r.E)(m,{type:a.Ey});return g?(0,n.jsx)(N.n,{variant:i,title:d,children:(0,n.jsx)(B.k,{})}):f||!y?(0,n.jsx)(N.n,{variant:i,title:d,children:(0,n.jsx)(z.B,{severity:"error",title:t("consumedApisCard.error.title"),message:(0,n.jsx)(K.z,{text:`${f}`,language:"text"})})}):(0,n.jsx)(s.s,{title:d,variant:i,emptyContent:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)(l.A,{variant:"body1",children:t("consumedApisCard.emptyContent.title",{entity:m.kind.toLocaleLowerCase("en-US")})}),(0,n.jsx)(l.A,{variant:"body2",children:(0,n.jsx)($.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional",externalLinkIcon:!0,children:t("apisCardHelpLinkTitle")})})]}),columns:c,tableOptions:p,entities:y})},M=e=>{let{t}=(0,I.i)(u.w),i=(0,p.useMemo)(()=>[s.s.columns.createEntityRefColumn({defaultKind:"API"}),s.s.columns.createOwnerColumn(),L(t),s.s.columns.createSpecLifecycleColumn(),s.s.columns.createMetadataDescriptionColumn()],[t]),{variant:d="gridItem",title:c=t("hasApisCard.title"),columns:m=i,tableOptions:y={}}=e,{entity:g}=(0,o.tN)(),{entities:f,loading:C,error:x}=(0,r.E)(g,{type:a.sA,kind:"API"});return C?(0,n.jsx)(N.n,{variant:d,title:c,children:(0,n.jsx)(B.k,{})}):x||!f?(0,n.jsx)(N.n,{variant:d,title:c,children:(0,n.jsx)(z.B,{severity:"error",title:t("hasApisCard.error.title"),message:(0,n.jsx)(K.z,{text:`${x}`,language:"text"})})}):(0,n.jsx)(s.s,{title:c,variant:d,emptyContent:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)(l.A,{variant:"body1",children:t("hasApisCard.emptyContent.title",{entity:g.kind.toLocaleLowerCase("en-US")})}),(0,n.jsx)(l.A,{variant:"body2",children:(0,n.jsx)($.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api",children:t("apisCardHelpLinkTitle")})})]}),columns:m,tableOptions:y,entities:f})},X=e=>{let{t}=(0,I.i)(u.w),{variant:i="gridItem",title:d=t("providedApisCard.title"),columns:c=R(t),tableOptions:p={}}=e,{entity:m}=(0,o.tN)(),{entities:y,loading:g,error:f}=(0,r.E)(m,{type:a.ZD});return g?(0,n.jsx)(N.n,{variant:i,title:d,children:(0,n.jsx)(B.k,{})}):f||!y?(0,n.jsx)(N.n,{variant:i,title:d,children:(0,n.jsx)(z.B,{severity:"error",title:t("providedApisCard.error.title"),message:(0,n.jsx)(K.z,{text:`${f}`,language:"text"})})}):(0,n.jsx)(s.s,{title:d,variant:i,emptyContent:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)(l.A,{variant:"body1",children:t("providedApisCard.emptyContent.title",{entity:m.kind.toLocaleLowerCase("en-US")})}),(0,n.jsx)(l.A,{variant:"body2",children:(0,n.jsx)($.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional",externalLinkIcon:!0,children:t("apisCardHelpLinkTitle")})})]}),columns:c,tableOptions:p,entities:y})}},77536(e,t,i){i.d(t,{e:()=>l});var n=i(31085),a=i(62112);let l=e=>(0,n.jsx)(a.z,{text:e.definition,language:e.language,showCopyCodeButton:!0})},96943(e,t,i){i.d(t,{w:()=>n});let n=(0,i(67254).h)({id:"api-docs",messages:{apiDefinitionCard:{error:{title:"Could not fetch the API"},rawButtonTitle:"Raw"},apiDefinitionDialog:{closeButtonTitle:"Close",tabsAriaLabel:"API definition options",toggleButtonAriaLabel:"Toggle API Definition Dialog",rawButtonTitle:"Raw"},defaultApiExplorerPage:{title:"APIs",subtitle:"{{orgName}} API Explorer",pageTitleOverride:"APIs",createButtonTitle:"Register Existing API",supportButtonTitle:"All your APIs"},consumedApisCard:{title:"Consumed APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not consume any APIs."}},hasApisCard:{title:"APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not contain any APIs."}},providedApisCard:{title:"Provided APIs",error:{title:"Could not load APIs"},emptyContent:{title:"This {{entity}} does not provide any APIs."}},apiEntityColumns:{typeTitle:"Type",apiDefinitionTitle:"API Definition"},consumingComponentsCard:{title:"Consumers",error:{title:"Could not load components"},emptyContent:{title:"No component consumes this API."}},providingComponentsCard:{title:"Providers",error:{title:"Could not load components"},emptyContent:{title:"No component provides this API."}},apisCardHelpLinkTitle:"Learn how to change this"}})},48028(e,t,i){i.d(t,{s:()=>C});var n=i(31085),a=i(58837),l=i(97214),o=i(54748),r=i(699),s=i(37281),d=i(14158),c=i(53318),p=i(10500);let u=Object.freeze({createEntityRefColumn(e){let{defaultKind:t}=e;function i(e){return e.metadata?.title||(0,c.S)(e,{defaultKind:t})}return{title:(0,n.jsx)(p.g,{translationKey:"name"}),highlight:!0,customFilterAndSearch:(e,t)=>i(t).includes(e),customSort:(e,t)=>i(e).localeCompare(i(t)),render:e=>(0,n.jsx)(s.z,{entityRef:e,defaultKind:t,title:e.metadata?.title})}},createEntityRelationColumn(e){let{title:t,relation:i,defaultKind:a,filter:l}=e;function o(e){return(0,r.t)(e,i,l)}function s(e){return o(e).map(e=>(0,c.S)(e,{defaultKind:a})).join(", ")}return{title:t,customFilterAndSearch:(e,t)=>s(t).includes(e),customSort:(e,t)=>s(e).localeCompare(s(t)),render:e=>(0,n.jsx)(d.i,{entityRefs:o(e),defaultKind:a})}},createOwnerColumn(){return this.createEntityRelationColumn({title:(0,n.jsx)(p.g,{translationKey:"owner"}),relation:l.vv,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:(0,n.jsx)(p.g,{translationKey:"domain"}),relation:"partOf",defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:(0,n.jsx)(p.g,{translationKey:"system"}),relation:"partOf",defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn:()=>({title:(0,n.jsx)(p.g,{translationKey:"description"}),field:"metadata.description",render:e=>(0,n.jsx)(o.M,{text:e.metadata.description,placement:"bottom-start",line:2})}),createSpecLifecycleColumn:()=>({title:(0,n.jsx)(p.g,{translationKey:"lifecycle"}),field:"spec.lifecycle"}),createSpecTypeColumn:()=>({title:(0,n.jsx)(p.g,{translationKey:"type"}),field:"spec.type"})}),m=[u.createEntityRefColumn({defaultKind:"system"}),u.createDomainColumn(),u.createOwnerColumn(),u.createMetadataDescriptionColumn()],y=[u.createEntityRefColumn({defaultKind:"component"}),u.createSystemColumn(),u.createOwnerColumn(),u.createSpecTypeColumn(),u.createSpecLifecycleColumn(),u.createMetadataDescriptionColumn()];var g=i(3571);let f=(0,a.A)(e=>({empty:{padding:e.spacing(2),display:"flex",justifyContent:"center"}})),C=e=>{let{entities:t,title:i,emptyContent:a,variant:l="gridItem",columns:o,tableOptions:r={}}=e,s=f(),d={minWidth:"0",width:"100%"};return"gridItem"===l&&(d.height="calc(100% - 10px)"),(0,n.jsx)(g.X,{columns:o,title:i,style:d,emptyContent:a&&(0,n.jsx)("div",{className:s.empty,children:a}),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...r},data:t})};C.columns=u,C.systemEntityColumns=m,C.componentEntityColumns=y},10500(e,t,i){i.d(t,{g:()=>l});var n=i(47250),a=i(80084);let l=({translationKey:e})=>{let{t}=(0,n.i)(a.j);return t(`entityTableColumnTitle.${e}`)}},39557(e,t,i){i.d(t,{E:()=>r});var n=i(78560),a=i(96170),l=i(73466),o=i(30043);function r(e,t){let i=t?.type?.toLocaleLowerCase("en-US"),r=t?.kind?.toLocaleLowerCase("en-US"),s=(0,a.gf)(o.v),{loading:d,value:c,error:p}=(0,l.A)(async()=>{let t=e.relations?.filter(e=>(!i||e.type.toLocaleLowerCase("en-US")===i)&&(!r||(0,n.KU)(e.targetRef).kind===r));if(!t?.length)return[];let{items:a}=await s.getEntitiesByRefs({entityRefs:t.map(e=>e.targetRef)});return a.filter(e=>!!e)},[e,i,r]);return{entities:c,loading:d,error:p}}},15485(e,t,i){i.d(t,{A:()=>u});var n=i(39850),a=i(89575),l=i(14041),o=i(57384),r=i(268),s=i(7031),d=i(20098),c=i(11192),p=l.forwardRef(function(e,t){var i=e.children,r=e.classes,s=e.className,p=e.disabled,u=void 0!==p&&p,m=e.disableFocusRipple,y=e.onChange,g=e.onClick,f=e.selected,C=e.size,x=void 0===C?"medium":C,h=e.value,A=(0,n.A)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return l.createElement(d.A,(0,a.A)({className:(0,o.A)(r.root,s,u&&r.disabled,f&&r.selected,"medium"!==x&&r["size".concat((0,c.A)(x))]),disabled:u,focusRipple:!(void 0!==m&&m),ref:t,onClick:function(e){!(g&&(g(e,h),e.isDefaultPrevented()))&&y&&y(e,h)},onChange:y,value:h,"aria-pressed":f},A),l.createElement("span",{className:r.label},i))});let u=(0,s.A)(function(e){return{root:(0,a.A)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat((0,r.X4)(e.palette.action.active,.12)),color:(0,r.X4)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:(0,r.X4)(e.palette.action.active,.12),"&:hover":{backgroundColor:(0,r.X4)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,r.X4)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,r.X4)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}},{name:"MuiToggleButton"})(p)}}]);
//# sourceMappingURL=1702.ce3c8edb.chunk.js.map
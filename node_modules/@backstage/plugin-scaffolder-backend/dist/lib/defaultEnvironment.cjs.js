'use strict';

function resolveDefaultEnvironment(config) {
  const defaultEnvConfig = config.getOptionalConfig(
    "scaffolder.defaultEnvironment"
  );
  if (!defaultEnvConfig) {
    return {
      parameters: {},
      secrets: {}
    };
  }
  const parameters = {};
  const secrets = {};
  const parametersConfig = defaultEnvConfig.getOptionalConfig("parameters");
  if (parametersConfig) {
    for (const paramKey of parametersConfig.keys()) {
      const paramValue = parametersConfig.getString(paramKey);
      parameters[paramKey] = paramValue;
    }
  }
  const secretsConfig = defaultEnvConfig.getOptionalConfig("secrets");
  if (secretsConfig) {
    for (const secretKey of secretsConfig.keys()) {
      const secretValue = secretsConfig.getString(secretKey);
      secrets[secretKey] = secretValue;
    }
  }
  return {
    parameters,
    secrets
  };
}

exports.resolveDefaultEnvironment = resolveDefaultEnvironment;
//# sourceMappingURL=defaultEnvironment.cjs.js.map

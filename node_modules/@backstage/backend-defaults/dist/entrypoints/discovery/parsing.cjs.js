'use strict';

function getEndpoints(config) {
  const endpoints = [];
  const endpointConfigs = config.getOptionalConfigArray("discovery.endpoints");
  for (const endpointConfig of endpointConfigs ?? []) {
    if (typeof endpointConfig.get("target") === "string") {
      endpoints.push({
        target: endpointConfig.getString("target"),
        plugins: endpointConfig.getStringArray("plugins")
      });
    } else {
      endpoints.push({
        target: {
          internal: endpointConfig.getOptionalString("target.internal"),
          external: endpointConfig.getOptionalString("target.external")
        },
        plugins: endpointConfig.getStringArray("plugins")
      });
    }
  }
  return endpoints;
}

exports.getEndpoints = getEndpoints;
//# sourceMappingURL=parsing.cjs.js.map
